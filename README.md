# MT5TradeManager

## 功能简介
MT5TradeManager 是一款专为MetaTrader 5（MT5）量身打造的本地化一键交易与风控管理工具，支持多账户、多品种，适合日内交易与风控需求。

### 主要功能
- **一键批量下单**：支持多单一键买入/卖出，支持止盈止损、分批止盈。
- **挂单突破**：支持高点/低点突破自动挂单。
- **持仓与历史成交管理**：实时同步MT5持仓与历史成交，自动记录到Excel，按账号分Sheet保存。
- **日内风控**：可自定义每日最大亏损，自动统计今日已实现+浮动盈亏，超限自动平仓并禁止当日交易。
- **每日交易次数限制**：可自定义每日最大交易次数。
- **盈亏实时展示**：界面实时显示今日已实现盈亏、浮动盈亏、日内总盈亏。
- **风控事件记录**：所有风控触发自动写入本地数据库，便于追溯。
- **自定义时区**：支持MT5服务器时区与本地时区自定义，成交时间自动转换为本地时间。
- **美观易用的本地GUI**：无需命令行，双击即用。

## 使用说明
1. **下载release压缩包**
   - 前往 [Releases](./releases) 页面，下载最新的 `MT5TradeManager.zip`。
2. **解压**
   - 将压缩包解压到任意本地目录。
3. **运行**
   - 双击 `MT5TradeManager.exe` 启动，无需命令行窗口。
   - 首次运行请确保MT5客户端已登录并允许自动交易。
4. **配置**
   - 如需自定义风控、时区、品种等参数，直接用文本编辑器打开 `config.py` 修改即可。
   - 主要配置项：
     - `DAILY_LOSS_LIMIT`：日内最大亏损（单位：账户货币）
     - `DAILY_TRADE_LIMIT`：每日最大交易次数
     - `MT5_TIMEZONE`、`LOCAL_TIMEZONE`：MT5服务器与本地时区（小时偏移）
     - 其他参数详见 `config.py` 注释
5. **数据文件**
   - 所有成交记录自动保存在 `data/trade_records.xlsx`，按账号分Sheet。
   - 风控事件保存在本地 `trade_history.db`。

## 常见问题
- **启动无反应/闪退**：请确保MT5客户端已登录，且本地有MetaTrader5环境。
- **成交时间不对**：请根据实际MT5服务器和本地时区，调整 `config.py` 里的 `MT5_TIMEZONE` 和 `LOCAL_TIMEZONE`。
- **图标不显示/资源丢失**：请确保 `icon.svg`、`config.py` 与 `MT5TradeManager.exe` 在同一目录。
- **历史成交缺失**：同步逻辑已修正时区问题，如仍有缺失请检查MT5历史数据权限。

## 反馈与支持
如有功能建议、BUG反馈或定制需求，请联系开发者或在项目Issue区留言。

---

**祝你交易顺利，风控无忧！** 